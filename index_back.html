<html>
<meta >
<head>
<meta name="google-site-verification" content="OzrZ5nFulNwQ1tXMi9ItSQUJV9VnyuoqZgGuh_KXyMg" />
<link rel="shortcut icon" href="https://icgc.org/files/org_sys/pan.png">
        <title>ICGC PanCancer Status</title>
        <meta http-equiv="content-type" content="text/html;charset=utf-8" />
        <meta name="generator" content="Geany 1.23.1" />
        <meta charset="utf-8" http-equiv="refresh" content="600">
        <script src="http://d3js.org/d3.v3.min.js"></script>
        <script src="http://d3js.org/topojson.v1.min.js"></script>
        <link rel="stylesheet" type="text/css" href="style1.css">
        <!-- I recommend you host this file on your own, since this will change without warning -->
        <script src="http://datamaps.github.io/scripts/datamaps.world.min.js?v=1"></script>
        <link rel="stylesheet" type="text/css" href="http://bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
        <meta charset="utf-8" http-equiv="refresh" content="600">
</head>
<style>
        #headere{
                background-color: #7FB5DA;

        }
        #inside{
                line-height: 50px;
                font-size:12px;
        }
</style>
<body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-34523087-2', 'pancancer.info');
  ga('create', 'UA-52348443-1', 'auto', {'name': 'newTracker'});
  ga('send', 'pageview');
  ga('newTracker.send', 'pageview');

</script>
<center style="height:910px;">

                 <div id="headere">
                         <h1 style="float:left;margin-left:10px;font-size:25px;">PANCANCER.INFO</h1>
                         <div id="inside">
                 <ul class="tab-links">
                                <li><a href="http://pancancer.info/">Sites</a></li>
                                <li><a href="uploads.html">Uploads</a></li>
                 </ul>
                 </div>
                 </div>
  <h2>ICGC/TGCA PanCancer Status</h2>

  <p style="width:900px;">The map below shows the number of specimens whose unaligned, lane-level WGS reads have been uploaded to a GNOS repository at one of the PanCancer clouds. Typically there are two specimens per donor, a tumor and a normal, and we expect approximately 3,000 specimens from ICGC and 2,000 from TCGA. It also
    shows the count of those specimens aligned using the project's BWA-Mem workflow.  For more information see our
    <a href="https://wiki.oicr.on.ca/display/PANCANCER/PCAWG+Home">Wiki Space</a>.</p>

<h3>Upload & Alignment</h3>

<p>
<table id="rounded-corner" summary="">
<tr><th></th><th><a href="gtrepo-bsc.log">Barcelona</a></th><th><a href="gtrepo-osdc.log">Chicago</a></th><th><a href="gtrepo-dkfz.log">Heidelberg</a></th><th><a href="gtrepo-ebi.log">London</a></th><th><a href="gtrepo-etri.log">Seoul</a></th><th><a href="gtrepo-riken.log">Tokyo</a></th><th><a href="gtrepo-cghub.log">Santa Cruz</a></th><th>Total</th><th>% of 5000</th></tr>
<tr><td><b>Aligned</b></td><td>43</td><td>offline</td><td>23</td><td>180</td><td>21</td><td>54</td><td>956</td><td>1277</td><td>25.54%</td></tr>
<tr><td><b>Unaligned</b></td><td>200</td><td>offline</td><td>721</td><td>736</td><td>24</td><td>592</td><td>0</td><td>2273</td><td>45.46%</td></tr>
</table>
</p>

<div id="container1" style="position:relative; width:800px; height:500px"></div></center>

     <script>
      var colors = d3.scale.category10();
       //basic map config with custom fills, mercator projection
      var map = new Datamap({
        scope: 'world',
        element: document.getElementById('container1'),
        geographyConfig: {
          popupOnHover: false,
          highlightOnHover: false,
          highlightFillColor: '#ABDDA4',
        },
        projection: 'mercator',
        fills: {defaultFill: "#ABDDA4",
                gt50: colors(Math.random() * 20),
                gt60: "#63AFD0",
                gt70: "#0772A1",}
      })

     //bubbles, custom popup on hover template
     map.bubbles([
       {name: "Chicago", total: 'offline', aligned: 'offline', latitude: 41.891519, longitude: -87.629159, radius: 6, fillKey: 'gt60'},
       {name: "Chicago", total: 'offline', aligned: 'offline', latitude: 41.891519, longitude: -87.629159, radius: 6, fillKey: 'gt70'},

       {name: "Barcelona", total: '200', aligned: '43', latitude: 41.378691, longitude: 2.175547, radius: 23, fillKey: 'gt60'},
       {name: "Barcelona", total: '200', aligned: '43', latitude: 41.378691, longitude: 2.175547, radius: 17, fillKey: 'gt70'},
 
       {name: "Tokyo", total: '592', aligned: '54', latitude: 35.684219, longitude: 139.755020, radius: 28, fillKey: 'gt60'},
       {name: "Tokyo", total: '592', aligned: '54', latitude: 35.684219, longitude: 139.755020, radius: 18, fillKey: 'gt70'},

       {name: "Seoul", total: '24', aligned: '21', latitude: 37.553397, longitude: 126.980624, radius: 14, fillKey: 'gt60'},
       {name: "Seoul", total: '24', aligned: '21', latitude: 37.553397, longitude: 126.980624, radius: 14, fillKey: 'gt70'},

       {name: "Heidelberg", total: '721', aligned: '23', latitude: 49.403159, longitude: 8.676061, radius: 29, fillKey: 'gt60'},
       {name: "Heidelberg", total: '721', aligned: '23', latitude: 49.403159, longitude: 8.676061, radius: 14, fillKey: 'gt70'},

       {name: "London", total: '736', aligned: '180', latitude: 51.507919, longitude: -0.123571, radius: 29, fillKey: 'gt60'},
       {name: "London", total: '736', aligned: '180', latitude: 51.507919, longitude: -0.123571, radius: 23, fillKey: 'gt70'},

       {name: "Santa Cruz", total: '0', aligned: '956', latitude: 36.971944, longitude: -122.026389, radius: 30, fillKey: 'gt60'},

     ], {
       popupTemplate: function(geo, data) {
         return "<div class='hoverinfo'>"+data.name+"<br/>Aligned: " + data.aligned + " Total: " +data.total+ "</div>";
       }
     });
     </script>
<center><h3>Total number of mapped bases<strong><p style="font-size:30px;margin-top:10px;"id="bases"></p></strong></h3></center>

</body>
<script>
function change(input){
document.getElementById("bases").innerHTML = input;
};
var values =[];
var arry = [];
var i;
var newary = [];
var data;
var t;
var bases = 0;

d3.csv("all_qc.csv", function(rows){
values = rows;

for (i = 0; i < values.length;i++){
bases += parseInt(values[i]["#_mapped_bases"]);
};
data=bases;

change(data);
});
</script>
</html>
